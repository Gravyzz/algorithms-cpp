#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int n;
vector<vector<int>> matrix;
vector<bool> visited;

void dfs(int v, vector<int>& component) {
    visited[v] = true;         
    component.push_back(v + 1); 

    for (int u = 0; u < n; ++u) {
        if (matrix[v][u] == 1 && !visited[u]) {
            dfs(u, component);
        }
    }
}

int main() {
    cin >> n;

    matrix.assign(n, vector<int>(n));
    visited.assign(n, false);

    
    for (int i = 0; i < n; ++i) {
        for (int j = 0; j < n; ++j) {
            cin >> matrix[i][j];
        }
    }

    vector<vector<int>> components;

    
    for (int i = 0; i < n; ++i) {
        if (!visited[i]) {
            vector<int> component;
            dfs(i, component);
            sort(component.begin(), component.end());
            components.push_back(component);
        }
    }

    
    sort(components.begin(), components.end(),
        [](const vector<int>& a, const vector<int>& b) {
            return a[0] < b[0];
        });

    
    cout << components.size() << "\n";
    for (auto& comp : components) {
        cout << comp.size() << " ";
        for (int v : comp) {
            cout << v << " ";
        }
        cout << "\n";
    }

    return 0;
}
